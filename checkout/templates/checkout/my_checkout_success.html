{% extends "base.html" %}
{% load static %} 
{% load humanize %}
{% block content %}

<div style="background-color:#E9E9EB" class="pb-5 mx-0">
<div class="row mt-5">
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 mt-5">
        <h2 class="fw-bold mb-4 text-center">Order Confirmation</h2>
    </div>
</div>
<!-- start summary -->
<div class="container">
    <div class="row text-center">
    <p class="mt-3 mb-3">Congratulations! Your order has been successfully received,</p>
    <p>CycleScene work feverishly 7 days a week so you can be rest assured your order is being prepared as we speak!</p>
    <!-- started -->
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center">
            <h3 class="mt-3 mb-3">My Order</h3>
            <hr>
            </div>
    </div>
    <div class="row justify-content-around">
        <div class="col-12 col-sm-12 col-md-6 col-lg-5 col-xl-5 float-start order-summary">
            <table class="mx-3">
                <tr>
                    <th class="mb-5"><u>Personal Information</u></th>
                </tr>

                <tr>
                    <th>Date</th>
                </tr>

                <tr>
                    <td><i class="fas fa-bicycle order-summary-bike"> :</i>{{ order.date }}</td>
                </tr>
                <tr>
                    <th>Number</th>
                </tr>
                <tr>
                    <td><i class="fas fa-bicycle order-summary-bike"> :</i>{{ order.order_number}}</td>
                </tr>
                <tr>
                    <th>Mobile</th>
                </tr>
                <tr>
                    <td><i class="fas fa-bicycle order-summary-bike"> :</i>{{ order.mobile_number }}</td>
                </tr>
                <tr>
                    <th>Email</th>
                </tr>
                <tr>
                    <td><i class="fas fa-bicycle order-summary-bike"> :</i>{{ order.email }}</td>
                </tr>
                <tr>
                    <th>Delivery</th>
                </tr>
                <tr>
                    <td>
                        <i class="fas fa-bicycle order-summary-bike"> :
                            {% if order.delivery_cost == 0 %}
                        </i><span class="free-delivery-text">FREE!</span></td>
                        {% else %}
                        </i>€{{ order.delivery_cost|floatformat:2|intcomma }}</td>
                        {% endif %}
                </tr>
                    <tr>
                        <th>Total</th>
                    </tr>
                    <tr>
                        <td><i class="fas fa-bicycle order-summary-bike"> :</i>€ {{ order.order_total|floatformat:2|intcomma }}</td>
                    </tr>
            </table>
        </div>
        <div class="col-12 col-sm-12 col-md-6 col-lg-4 col-xl-4 order-summary">
            <table class="mx-3">
                <tr>
                    <th class="mb-5"><u>Shipping Information</u></th>
                </tr>
                <tr>
                    <th>Name</th>
                </tr>
                <tr><td><i class="fas fa-bicycle order-summary-bike"> :</i>{{ order.first_name|title }}{{ order.last_name|title }}</td></tr>
                <tr>
                    <th>Address</th>
                </tr>
                <tr>
                    <td><i class="fas fa-bicycle order-summary-bike"> :</i>{{ order.address1|title }},</td>
                </tr>
                <tr >
                    <td><span  class="mx-5">{{ order.address2|title }},</span></td>
                </tr>
                <tr>
                    <td><span  class="mx-5">{{ order.county|title }},</span></td>
                </tr>
                <tr>
                    <td><span  class="mx-5">{{ order.city|title }},</span></td>
                </tr>
                <tr>
                    <td><span  class="mx-5">{{ order.country|title }}</span></td>
                </tr>
            </table>
        </div>
        <div class="col-12 col-sm-12 col-md-12 col-lg-3 col-xl-3 float-end order-summary">
            <table class="mx-3">
                <tr>
                    <th class="mb-5"><u>Item Information</u></th>
                </tr>
                {% for i in order.lineitems.all %}
                <tr>
                    <th>Name</th>
                </tr>
                <tr>
                    <td><i class="fas fa-bicycle order-summary-bike"> :</i>{{ i.product.name|title }}</td>
                </tr>
                <tr>
                    <th>Quantity</th>
                </tr>
                <tr>
                    <td><i class="fas fa-bicycle order-summary-bike"> :</i>{{ i.quantity|intcomma }}</td>
                </tr>
                <tr>
                    <th>Price</th>
                </tr>
                <tr>
                    <td><i class="fas fa-bicycle order-summary-bike"> :</i>€{{ i.product.price|floatformat:2|intcomma }}</td>
                </tr>
                {% endfor %}
                </table>
        </div>
    </div>

</div>
</div>
</div>
</div>
           
    <!--end---->
    <div class="row mt-5">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 text-center">
           <p class="fw-bold">Need a hard copy? Click the button below</p>
           <a onclick="window.print()" class="fas fa-print fa-4x"></a>
       </div>
   </div>        
</div>
{% if from_profile %}
<div class="row mt-2">
    <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
      <div class="text-center">
        <a href="{% url 'profile' %}" class="btn btn-outline-secondary btn-lg mt-5 mb-5 fw-bold">BACK TO PROFILE</a>
      </div>
    </div>
  </div>
{% else %}
     <div class="row mt-2">
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12">
        <div class="text-center">
          <a href="{% url 'products' %}" class="btn btn-outline-secondary btn-lg mt-5 mb-5 fw-bold">BACK TO PRODUCTS</a>
        </div>
      </div>
    </div>
    {% endif %}
  </div>
</div>

</div>
</div>
<!-- end summary-->
{% endblock %}

